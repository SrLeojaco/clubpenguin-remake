(function (lib, img, cjs, ss) {

var p; // shortcut to reference prototypes

// library properties:
lib.properties = {
	width: 550,
	height: 400,
	fps: 24,
	color: "#FFFFFF",
	manifest: []
};



// symbols:



(lib.NinjaMove10001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10006 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10007 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove10008 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20006 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20007 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove20008 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30006 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30007 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove30008 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40006 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40007 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove40008 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(34);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(35);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(36);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50006 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(37);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50007 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(38);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove50008 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(39);
}).prototype = p = new cjs.Sprite();



(lib.NinjaStand0001 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(40);
}).prototype = p = new cjs.Sprite();



(lib.NinjaStand0002 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(41);
}).prototype = p = new cjs.Sprite();



(lib.NinjaStand0003 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(42);
}).prototype = p = new cjs.Sprite();



(lib.NinjaStand0004 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(43);
}).prototype = p = new cjs.Sprite();



(lib.NinjaStand0005 = function() {
	this.spriteSheet = ss["ninjas_atlas_"];
	this.gotoAndStop(44);
}).prototype = p = new cjs.Sprite();



(lib.NinjaMove5 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaMove50001();

	this.instance_1 = new lib.NinjaMove50002();

	this.instance_2 = new lib.NinjaMove50003();

	this.instance_3 = new lib.NinjaMove50004();

	this.instance_4 = new lib.NinjaMove50005();

	this.instance_5 = new lib.NinjaMove50006();

	this.instance_6 = new lib.NinjaMove50007();

	this.instance_7 = new lib.NinjaMove50008();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,32,36);


(lib.NinjaMove4 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaMove40001();

	this.instance_1 = new lib.NinjaMove40002();

	this.instance_2 = new lib.NinjaMove40003();

	this.instance_3 = new lib.NinjaMove40004();

	this.instance_4 = new lib.NinjaMove40005();

	this.instance_5 = new lib.NinjaMove40006();

	this.instance_6 = new lib.NinjaMove40007();

	this.instance_7 = new lib.NinjaMove40008();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,32,37);


(lib.NinjaMove3 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaMove30001();

	this.instance_1 = new lib.NinjaMove30002();

	this.instance_2 = new lib.NinjaMove30003();

	this.instance_3 = new lib.NinjaMove30004();

	this.instance_4 = new lib.NinjaMove30005();

	this.instance_5 = new lib.NinjaMove30006();

	this.instance_6 = new lib.NinjaMove30007();

	this.instance_7 = new lib.NinjaMove30008();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,25,40);


(lib.NinjaMove2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaMove20001();

	this.instance_1 = new lib.NinjaMove20002();

	this.instance_2 = new lib.NinjaMove20003();

	this.instance_3 = new lib.NinjaMove20004();

	this.instance_4 = new lib.NinjaMove20005();

	this.instance_5 = new lib.NinjaMove20006();

	this.instance_6 = new lib.NinjaMove20007();

	this.instance_7 = new lib.NinjaMove20008();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,34,39);


(lib.NinjaMove1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaMove10001();

	this.instance_1 = new lib.NinjaMove10002();

	this.instance_2 = new lib.NinjaMove10003();

	this.instance_3 = new lib.NinjaMove10004();

	this.instance_4 = new lib.NinjaMove10005();

	this.instance_5 = new lib.NinjaMove10006();

	this.instance_6 = new lib.NinjaMove10007();

	this.instance_7 = new lib.NinjaMove10008();

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6}]},1).to({state:[{t:this.instance_7}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,32,36);


(lib.Game = function() {
	this.initialize();

}).prototype = p = new cjs.Container();
p.nominalBounds = null;


(lib.ninja_mc = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.instance = new lib.NinjaStand0001();
	this.instance.setTransform(-16.5,-19);

	this.instance_1 = new lib.NinjaStand0002();
	this.instance_1.setTransform(-16.5,-19);

	this.instance_2 = new lib.NinjaStand0003();
	this.instance_2.setTransform(-16.5,-19);

	this.instance_3 = new lib.NinjaStand0004();
	this.instance_3.setTransform(-16.5,-19);

	this.instance_4 = new lib.NinjaStand0005();
	this.instance_4.setTransform(-16.5,-19);

	this.instance_5 = new lib.NinjaMove1();
	this.instance_5.setTransform(0,0,1,1,0,0,0,16,18);

	this.instance_6 = new lib.NinjaMove2();
	this.instance_6.setTransform(0,0,1,1,0,0,0,17,19.5);

	this.instance_7 = new lib.NinjaMove3();
	this.instance_7.setTransform(0,0,1,1,0,0,0,17,19.5);

	this.instance_8 = new lib.NinjaMove4();
	this.instance_8.setTransform(0,0,1,1,0,0,0,17,19.5);

	this.instance_9 = new lib.NinjaMove5();
	this.instance_9.setTransform(0,0,1,1,0,0,0,17,19.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1,p:{skewY:0,x:-16.5}}]},1).to({state:[{t:this.instance_2,p:{skewY:0,x:-16.5}}]},1).to({state:[{t:this.instance_3,p:{skewY:0,x:-16.5}}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_3,p:{skewY:180,x:17}}]},1).to({state:[{t:this.instance_2,p:{skewY:180,x:16.5}}]},1).to({state:[{t:this.instance_1,p:{skewY:180,x:17}}]},1).to({state:[{t:this.instance_5}]},1).to({state:[{t:this.instance_6,p:{skewY:0}}]},1).to({state:[{t:this.instance_7,p:{skewY:0}}]},1).to({state:[{t:this.instance_8,p:{skewY:0}}]},1).to({state:[{t:this.instance_9}]},1).to({state:[{t:this.instance_8,p:{skewY:180}}]},1).to({state:[{t:this.instance_7,p:{skewY:180}}]},1).to({state:[{t:this.instance_6,p:{skewY:180}}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-16.5,-19,33,38);


// stage content:
(lib.ninjas = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_1 = function() {
		this.stop();
		
		GAME = this.game_mc;
		
		var player_list = {};
		
		
		function addPlayer(id,ob) {
			var mc = new lib.ninja_mc();
			mc.gotoAndStop(ob.a);
			mc.x = ob.x;
			mc.y = ob.y;
			player_list[id] = mc;
			GAME.addChild(mc);	
			console.log(player_list);
		}
		
		function updatePlayer(id,ob) {
			var mc = player_list[id];
			movePlayer(id,ob.x,ob.y);
		}
		
		function movePlayer(id,x,y) {
			var mc = player_list[id];
			var d = getDistance(mc.x,mc.y,x,y);
			var t = (d / 100) * 1000;
			var a = getAngle(mc.x,mc.y,x,y);
			var f = getDirection(a);
			updatePlayerFrame(id,f+8);
			createjs.Tween.get(mc,{override:true})
				.to({x:x,y:y}, t, createjs.Ease.linear)
				.call(updatePlayerFrame,[id,f]);
		}
		
		function updatePlayerFrame(id,frame) {
			var mc = player_list[id];
			mc.gotoAndStop(frame);
		}
		
		function removePlayer(id) {
			var mc = player_list[id];
			GAME.removeChild(mc);
			delete player_list[id];
		}
		
		function handleStageClick(event) {
			var ob = { x:event.stageX, y:event.stageY };
			//sendUpdatePlayer(ob);
		}
		
		stage.on("stagemousedown",handleStageClick);
		
		FB_addPlayer = function(id,ob) { addPlayer(id,ob); };
		FB_removePlayer = function(id,ob) { removePlayer(id); };
		FB_updatePlayer = function(id,ob) { updatePlayer(id,ob); };
		

		
		//var player_mc = new lib.ninja_mc();
		//this.addChild(player_mc);
		
		
		/*
		
		stage.on("stagemousedown",handleStageClick);
		
		function handleTick() {
			
		}
		
		function handleStageClick(event) {
			console.log("click");
			console.log("the canvas was clicked at "+event.stageX+","+event.stageY);
			movePlayer(event.stageX,event.stageY);
		}
		
		function movePlayer(x,y) {
			createjs.Tween.get(GAME.player_mc,{override:true}).to({x:x,y:y}, 1000, createjs.Ease.linear);
		}
		
		*/
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).wait(1).call(this.frame_1).wait(1));

	// Layer 1
	this.game_mc = new lib.Game();

	this.timeline.addTween(cjs.Tween.get(this.game_mc).wait(2));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = null;

})(lib = lib||{}, images = images||{}, createjs = createjs||{}, ss = ss||{});
var lib, images, createjs, ss;